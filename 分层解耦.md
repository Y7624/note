### 三层架构

*controller：控制层，接收前端发送的请求，对请求进行处理，并响应数据。*

*service：业务逻辑层，处理具体的业务逻辑*

*dao:数据访问层（持久层），负责数据访问操作，包括数据的增删查改。*

### 分层解耦 

*内聚：软件中各个功能模块内部的功能联系*

*耦合：衡量软件中各个层/模块之间的依赖、关联的程度。*

*软件设计原则：高内聚低耦合*

*控制反转：Inersion Of Control,简称IOC.对象的创建控制权由程序自身转移到外部（容器），这种思想称为控制反转。*

*依赖注入：Dependency Injection,简称DI。容器为应用程序提供运行时，所依赖的资源，称之为依赖注入。*

*Bean对象，IOC容器中创建、管理的对象，称之为bean.*

![image-20250705145726475](C:\Users\45379\AppData\Roaming\Typora\typora-user-images\image-20250705145726475.png)

![image-20250706171901651](C:\Users\45379\AppData\Roaming\Typora\typora-user-images\image-20250706171901651.png)

@Autowired:运行时，IOC容器会提供该类型的bean对象，并赋值给变量--依赖注入

![image-20250706172045587](C:\Users\45379\AppData\Roaming\Typora\typora-user-images\image-20250706172045587.png)

@Component:将当前类交给IOC容器管理，成为IOC容器中的bean

1.Service层及dao层的实现类，交给容器管理，通过@component

2.为Controller及Service注入运行时，依赖的对象，通过@Autowired

### Bean的声明：

要把某个对象交给IOC容器管理

![image-20250706201305565](C:\Users\45379\AppData\Roaming\Typora\typora-user-images\image-20250706201305565.png)

**声明bean的时候，可以通过value属性指定bean的名字，如果没有指定，默认为类名首字母小写。**

**使用以上四个注解都可以声明bean，但是在springboot集成的web开发中，声明控制器bean只能用@Controller。**

四大注解要想生效，需要被@ComponentScan扫描，@SpringBootApplication默认扫描的范围是启动类所在包及其子包。

### Bean注入：

@Autowired注解，默认是按照类型进行，如果存在多个相同类型的bean,会报错

![image-20250706204553031](C:\Users\45379\AppData\Roaming\Typora\typora-user-images\image-20250706204553031.png)

***解决方案***

通过@primary可设置相同类型的优先级

@qualifier配合@Autowired来指定要注入的bean类型

@Resource来指定注入的是哪个bean,指定bean的名字，按照名称进行注入，通过jdk提供

@Autowired通过类型进行注入，是springboot原生框架提供的注解

![image-20250706205417584](C:\Users\45379\AppData\Roaming\Typora\typora-user-images\image-20250706205417584.png)