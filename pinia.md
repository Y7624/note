## pinia

**pinia是vue的最新的状态管理工具，是Vuex的期待品**

*1.提供更简单的API(去掉了mutation)*

*2.提供符合，组合式的风格的API(和vue3新语法统一)*

*3.去掉了modules的概念，每一个store都是一个独立的模块*

*4.配合TypeScript更加友好，提供可靠的类型推断*

**在仓库中提供数据**：

import  {defineStore} from 'pinia'

//定义store

//defineStore(仓库的唯一标识，()=>{...})

export  const useCounterStore= defineStore('counter',()=>{

  //声明数据state

  const count=ref(0)

  //声明操作数据的方法action

  

  //声明基于数据派生的计算属性getters

  //声明数据state -msg

  const msg=ref("hello pinia")

  return {

​    count,

​    msg

  }

})

****

### action异步实现

***

### 插槽

**默认插槽：让组件内部一些结构支持自定义**

**封装组件时，组件的内容部分，不希望写死，希望能使用的时候自定义。**

*插槽基本语法：*

*1.组件内需要定制的结构部分，改用<slot></slot>占位*

*2.使用组件时，<MyDialog></MyDialog>标签内部，传入结构替换slot*

**插槽-后备内容(默认值)**

**通过插槽完成了内容的定制，传什么显示什么，但是如果不穿，则是空白**

**插槽后背内容：封装组件时，可以为预留的·<slot>·插槽提供后备内容(默认内容)**

**语法：在<slot>标签内，放置内容，作为默认显示内容**

**效果：外部使用·组件时，不传东西，则slot会显示后备内容**

**外部使用组件时，传东西了，则slot整体会被换掉**

**具名插槽：**

**需求：一个组件内有多处结构，需要外部传入标签，进行定制**

**语法：1.多个slot使用name属性区分名字**

**2.template配合v-slot：名字来分发对应标签**

**3.v-loat：插槽名可以简化成#插槽名**

**作用域插槽：是插槽的一个传参语法**

**定义slot插槽的同时，是可以传值的。给插槽上可以绑定数据，将来使用组件时可以用**

**基本使用步骤**

**1.给slot标签，以添加属性的方式传值**

**2.所有添加的属性，都会收集到一个对象中**

**3.在template中1，通过`#插槽名="obj"`接收，默认插槽名为default**