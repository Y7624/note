**自定义指令：自己定义的指令，可以封装一些dom操作，扩展额外功能。**

***mounted(){***

 ***this.$refs.inp.focus()***

***}***

***全局注册-语法***

***vue.directive('指令名',{***

***"inserted"(el){***

***el.focus()***

***}***

***})***

/全局注册指令

//Vue.directive('focus',{

 //inserted会在指令所需要的元素被插入到页面中时触发

 //inserted(el){

  //el就是指令所绑定的元素

  //console.log();

 // el.focus()

 // }

//})

***局部注册-语法***

***directives:{***

***"指令名":{***

***inserted(){***

***el.focus()***

​       ***}***

   ***}***

***}***

<template>
  <div>
    <h1>自定义指令</h1>
    <input v-focus  ref="input"  type="text">
  </div>
</template>

<script>
export default {
//mounted(){
  //this.$refs.inp.focus()
//}
//2.局部注册指令
directives:{
  //指令名:指令配置项
  focus:{
    inserted(el){
      el.focus()
    }
  }
}
}
</script>

<style>
</style>

**在绑定指令时，可以通过"等号"的形式为指令绑定具体的参数值**

**通过binding.value可以拿到指令值，指令值修改会触发update函数**

v-loading指令封装

**场景：实际开发过程中，发送请求需要时间，在请求的数据未回来时，页面会处于空白状态=>用户体验不好**

**1.准备类名loading，通过伪元素提供遮罩层**

**2.添加或移除类名，实现loading蒙层的添加移除。**

**3.利用指令语法，封装v-loading通用指令**

**inserted钩子中，binding.value判断指令的值，设置默认状态**

**update钩子中，binding.value判断指令的值，更新类名状态**

***

**让组件内部的一些结构支持自定义**

*****

路由——404 当路径找不到匹配时，给个提示页面

*path:"*",component :NotFind*
