**组件三大组成部分**

**结构<template>只能有一个根元素**

**样式<style>全局样式（默认）：影响所有组 件**

**局部样式：scoped下样式，只作用于当前组件**

**逻辑<script>:el根实例独有，data是一个函数，其他配置项一致**

**scoped原理：**

**1.当前组件内标签都被添加data-v-hash值的属性**

**2.css选择器都被添加[data-v-hash值]的属性选择器**

**最终效果:必须是当前组件的元素，才会有这个自定义属性，才会被这个样式作用到**

***

**data是一个函数**

**一个组件的data选项必须是一个函数。—>保证每个组件实例，维护独立的一份数据对象。**

**每次创建新的组件实例，都会执行一次data函数，得到一个对象。**

****

**什么是组件通信**

**组件通信，就是指组件与组件之间的数据传递**

**组件的数据就是独立的，无法直接访问其他组件的数据**

**想用其他组件的数据—>组件通信**

**不同的组件关系和组件通信方案分类**

**组件关系分类：1.父子关系2.非父子关系**

**父子关系：props和$emit**

**1.父组件通过propos将数据传递给子组件**

**2.子组件利用$emit通知父组件修改更新**

**非父子关系1.provide&inject2.eventbus**

**通用解决方案:Vuex(适合复杂业务场景)**

**父—>子：父组件通过props将数据传递给子组件**

**子—>父：子组件利用$emit通知父组件，进行修改更新**

******

**sync修饰符:可以实现子组件与父组件数据的双向绑定，简化代码**

**特点:prop属性名，可以自定义，非固定value**

**场景：封装弹框类的基础组件，visible属性，true显示fale隐藏**

**本质：就是:属性名和@update:属性名合写**

*****

**prop:组件注册的一些自定义属性**

**用来向子组件传递数据**

**特点：可以传递任意数量的prop，可以传递任意类型的prop**

**props校验：**

**作用：为组件的prop指定验证要求，不符合要求，控制台就会有错误提示—>帮助开发者，快速发现错误**

**语法：1.类型校验2.非空校验3.默认值4.自定义校验**

**prop&data、单向数据流**

**共同点：都可以给组件提供数据**

**区别：data的数据是自己的—>随便改**

**prop的数据是外部的—>不能直接改，要遵循单向数据流**

**单向数据流:父组件的prop更新，会单向向下波动，影响到子组件。**

**谁的数据谁负责**

****

**v-model本质上是一个语法糖。例如应用在输入框上，就是value属性和input属性的合写/**

**作用：提供数据的双向绑定**

**1.数据变，视图跟着变：value  2.视图变，数据跟着变@input**

**$event用于在模板中，获取事件的形参**

**表单类组件封装&v-model简写代码**

**1.表单类组件封装** 

**1.父传子；数据应该是父组件props传递过来的，v-model拆解绑定数据**

**2.子传父；监听输入，子传父值给父组件修改**

**2.父组件v-model简化代码，实现子组件和父组件数据双向绑定**

**1.子组件中props通过value接收，事件触发input**

**2.父组件中：v-model给组件直接绑数据******(:value+@input)****

****

**ref和$refs：作用：利用ref和$refs可以用于获取dom元素或组件实例**

**特点：查找范围—>当前组件内（更精确稳定）**

**1.获取 dom:1.目标标签—>添加ref属性  2.恰当时机，通过this.$refs,xxx，获取目标标签**

**获取组件：1.目标组件->添加ref属性2.恰当时机，通过this.$refs,xxx,获取目标组件，就可以调用组件对象里面的方法。**

****

**vue异步更新、$nextTick**

**vue是异步更新DOM(提升性能)**

**$nextTick：等DOM更新后，才会触发执行此方法里的函数体**

**语法：this.$nextTick(函数体）**

**this.$nextTick(()=>{**

**//业务逻辑**

**})**









​                                                                                                                                                                                                           

